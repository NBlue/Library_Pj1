<div class="container-users" data-id="{{data.IdUser}}" name="{{data.Username}}">
    <div class="accout">
        <div class="grid wide" style="width: 1000px">
            <div class="row">
                <div class="accout__user" alert="{{alert.alert}}">
                    <div class="col l-4">
                        <div class="avatar">
                            <h3 class="avatar__title">Tài khoản</h3>
                            <img src="/img/other/profile.jpg" alt="" class="avatar__img">
                            <h4 class="avatar__name">{{dataUser.Name}}</h4>
                            <h4 class="avatar__point">Điểm uy tín: 
                                <span>{{dataUser.Score}}</span>
                            </h4>
                            <button class=" update__password-btn">Đổi mật khẩu</button>
                            <button class="avatar__backspace-btn" onclick="onCancel()">
                                <i class="fas fa-sign-out-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="col l-8">
                        <div class="info">
                             <form action="/accout/{{dataUser.IdUser}}" method="POST">
                                <h3 class="info__title">Thông tin tài khoản</h3>
                                <div class="info-wrap">
                                    <section class="form-group">
                                        <label for="Username" class="form-label">Tên đăng nhập</label>
                                        <input type="text" class="form-control"id="Username" name="Username" type="text" value="{{dataUser.Username}}" class="form-control"/>
                                        <span class="form-message">{{errMess.Username}}</span>
                                    </section>
                                    <section class="form-group">
                                        <label for="Name" class="form-label">Tên đầy đủ</label>
                                        <input id="Name" name="Name" type="text" value="{{dataUser.Name}}" class="form-control"/>
                                        <span class="form-message">{{errMess.Name}}</span>
                                    </section>
                                </div>
                                <section class="form-group">
                                    <label for="Email" class="form-label">Email</label>
                                    <input id="Email" name="Email" type="text" value="{{dataUser.Email}}" class="form-control"/>
                                    <span class="form-message">{{errMess.Email}}</span>
                                </section>
                                <section class="form-group">
                                    <label for="Address" class="form-label">Địa chỉ</label>
                                    <input id="Address" name="Address" type="text" value="{{dataUser.Address}}" class="form-control"/>
                                    <span class="form-message">{{errMess.Address}}</span>
                                </section>
                                <button type="submit" class="btn info__update-btn">Cập nhật thông tin</button>
                             </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-pass">
            <div class="container">
                <form action="" method="POST">
                    <header class="modal-header">
                        <h1 class="acc-title">Đổi mật khẩu</h1>
                        <button type="button" class="btn-close" onclick="onClose()">
                            <img src="/img/other/remove_icon.png" alt="">                        
                        </button>
                    </header>
                    <div class="form-group">
                        <label for="password_older" class="form-label">Nhập mật khẩu cũ</label>
                        <input
                            id="password_older"
                            name="password_older"
                            value="{{body.password}}"
                            type="password"
                            placeholder="Nhập mật khẩu cũ"
                            class="form-control"
                        />
                        <span class="form-message">{{errMess.password}}</span>
                    </div>
                    <div class="form-group">
                        <label for="password_new" class="form-label">Nhập mật khẩu mới</label>
                        <input
                            id="password_new"
                            name="password_new"
                            value=""
                            type="password"
                            placeholder="Nhập mật khẩu mới"
                            class="form-control"
                        />
                        <span class="form-message"></span>
                    </div>
                     <div class="form-group">
                        <label for="password_confirmation" class="form-label">Xác
                            nhận mật khẩu</label>
                        <input
                            id="password_confirmation"
                            name="password_confirmation"
                            value="{{body.password_confirmation}}"
                            type="password"
                            placeholder="Nhập lại mật khẩu"
                            class="form-control"
                        />
                        <span class="form-message">{{errMess.password_confirmation}}</span>
                    </div>
                    <button class="form-submit" type="submit">Xác nhận</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        const updatePassBtn = document.querySelector(".update__password-btn");
        const modalPass = document.querySelector(".modal-pass");

        updatePassBtn.onclick = function() {
            modalPass.classList.add("active");
        }

        function onCancel() {
                window.history.back();
            }

        function onClose() {
            modalPass.classList.remove("active");
        }

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector('.modal-pass').addEventListener("click", (e) => e.stopPropagation());
            //document.querySelector('.container').addEventListener("click", onCancel);
        })


        // invalid mess
            const formMess = document.querySelectorAll(".form-message");
            const formGroup = document.querySelectorAll(".form-group")

            formMess.forEach((form, index) => {
                if(form.innerText.length > 0){
                    formGroup[index].classList.add("invalid");
                } else if(form.innerText.length === 0 ){
                    formGroup[index].classList.remove("invalid");
                }
            })

        window.addEventListener('load', function () {
            const alertSuccess = document.querySelector(".accout__user")
            if(alertSuccess.getAttribute("alert") != ""){
                alert("Cập nhật thông tin thành công!");
            }
        })
    </script>
</div>